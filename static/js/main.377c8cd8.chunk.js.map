{"version":3,"sources":["components/Carousel.tsx","App.tsx","index.tsx"],"names":["Carousel","images","step","width","duration","frameSize","isInfinite","indexCurrImg","setIndexCurrImg","maxVisibleIndex","canMovePrev","canMoveNext","itemStyle","transform","transition","className","type","onClick","indexPrevImg","cn","src","alt","style","map","image","imageId","substring","lastIndexOf","String","indexNextImg","App","useState","setWidth","setFrameSize","setStep","animationDuration","setAnimationDuration","setIsInfinite","length","htmlFor","id","value","onChange","e","target","min","max","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.377c8cd8.chunk.js","sourcesContent":["import React from 'react';\nimport cn from 'classnames';\nimport './Carousel.scss';\n\ntype Props = {\n  images: string[];\n  step:number;\n  width: number;\n  duration: number;\n  frameSize: number;\n  isInfinite: boolean;\n  indexCurrImg: number;\n  setIndexCurrImg: React.Dispatch<React.SetStateAction<number>>;\n};\n\nexport const Carousel: React.FC<Props> = ({\n  images,\n  step,\n  width,\n  duration,\n  frameSize,\n  isInfinite,\n  indexCurrImg,\n  setIndexCurrImg,\n}) => {\n  const minIndex = 0;\n  const maxIndex = 9 * width;\n  const maxVisibleIndex = (9 * width) - (width * (frameSize - 1));\n  const canMovePrev = indexCurrImg - width > minIndex || isInfinite;\n\n  let canMoveNext = indexCurrImg + width < maxIndex || isInfinite;\n\n  if (indexCurrImg === maxVisibleIndex && !isInfinite) {\n    canMoveNext = false;\n  }\n\n  const itemStyle = {\n    transform: `translate(-${indexCurrImg}px)`,\n    transition: `all ${duration}ms`,\n  };\n\n  function handlePrev() {\n    const indexPrevImg = indexCurrImg - (width * step);\n\n    if (indexPrevImg <= minIndex && !isInfinite) {\n      setIndexCurrImg(minIndex);\n    } else if (indexPrevImg < minIndex\n      && isInfinite\n      && indexCurrImg !== minIndex) {\n      setIndexCurrImg(minIndex);\n    } else if (indexPrevImg <= minIndex && isInfinite) {\n      setIndexCurrImg(maxVisibleIndex);\n    } else {\n      setIndexCurrImg(indexCurrImg - (width * step));\n    }\n  }\n\n  function handleNext() {\n    const indexNextImg = indexCurrImg + (width * step);\n\n    if (!isInfinite && indexNextImg > maxVisibleIndex) {\n      setIndexCurrImg(maxVisibleIndex);\n    } else if (isInfinite\n      && indexNextImg > maxVisibleIndex\n      && indexCurrImg !== maxVisibleIndex) {\n      setIndexCurrImg(maxVisibleIndex);\n    } else if (isInfinite\n       && indexNextImg >= maxVisibleIndex\n       && indexCurrImg === maxVisibleIndex) {\n      setIndexCurrImg(minIndex);\n    } else {\n      setIndexCurrImg(indexCurrImg + (width * step));\n    }\n  }\n\n  return (\n    <div className=\"Carousel\">\n      <button\n        type=\"button\"\n        onClick={handlePrev}\n        aria-disabled={!canMovePrev}\n        className={cn('Carousel__button', {\n          'Carousel__button--active': canMovePrev,\n          'Carousel__button--disactive': !canMovePrev,\n        })}\n      >\n        <img\n          src=\"./icons/arr_left.svg\"\n          alt=\"arrow_left\"\n          className=\"Carousel__icon\"\n        />\n      </button>\n\n      <div\n        className=\"Carousel__container\"\n        style={{ width: `${frameSize * width + 40}px` }}\n      >\n        <ul\n          className=\"Carousel__list\"\n        >\n          {images.map(image => {\n            let imageId = +(image.substring(\n              image.lastIndexOf('.') - 1, image.lastIndexOf('.') + 1,\n            ));\n\n            if (imageId === 0) {\n              imageId = 10;\n            }\n\n            return (\n              <li\n                key={imageId}\n                className=\"Carousel__item\"\n                style={itemStyle}\n\n              >\n                <img\n                  src={`./img/${imageId}.png`}\n                  alt={String(imageId)}\n                  width={width}\n                  className=\"Carousel__image\"\n                />\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n\n      <button\n        type=\"button\"\n        data-cy=\"next\"\n        onClick={handleNext}\n        aria-disabled={!canMoveNext}\n        className={cn('Carousel__button', {\n          'Carousel__button--active': canMoveNext,\n          'Carousel__button--disactive': !canMoveNext,\n        })}\n      >\n        <img\n          src=\"./icons/arr_right.svg\"\n          alt=\"arrow_rigth\"\n          className=\"Carousel__icon\"\n        />\n      </button>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport './App.scss';\nimport { Carousel } from './components/Carousel';\n\nconst images = [\n  './img/1.png',\n  './img/2.png',\n  './img/3.png',\n  './img/4.png',\n  './img/5.png',\n  './img/6.png',\n  './img/7.png',\n  './img/8.png',\n  './img/9.png',\n  './img/10.png',\n];\n\nexport const App: React.FC = () => {\n  const [width, setWidth] = useState(130);\n  const [frameSize, setFrameSize] = useState(3);\n  const [step, setStep] = useState(3);\n  const [animationDuration, setAnimationDuration] = useState(1000);\n  const [isInfinite, setIsInfinite] = useState(false);\n  const [indexCurrImg, setIndexCurrImg] = useState(0);\n\n  function handleFrameSize(e: React.ChangeEvent<HTMLInputElement>) {\n    setFrameSize(+e.target.value);\n    setIndexCurrImg(0);\n  }\n\n  return (\n    <div className=\"App\">\n      {/* eslint-disable-next-line */}\n      <h1 data-cy=\"title\">Carousel with {images.length} images</h1>\n\n      <div className=\"App__inputs\">\n        <label htmlFor=\"itemId\">\n          Item width\n          <input\n            id=\"itemId\"\n            type=\"number\"\n            step={1}\n            className=\"App__input\"\n            value={width}\n            onChange={e => setWidth(+e.target.value)}\n          />\n        </label>\n\n        <label htmlFor=\"frameId\">\n          Frame size\n          <input\n            id=\"frameId\"\n            type=\"number\"\n            className=\"App__input\"\n            value={frameSize}\n            min={1}\n            max={10}\n            onChange={handleFrameSize}\n          />\n        </label>\n\n        <label htmlFor=\"stepId\">\n          Step\n          <input\n            id=\"stepId\"\n            type=\"number\"\n            className=\"App__input\"\n            value={step}\n            min={1}\n            max={5}\n            onChange={e => setStep(+e.target.value)}\n          />\n        </label>\n\n        <label htmlFor=\"animationId\">\n          Animation duration\n          <input\n            id=\"animationId\"\n            type=\"number\"\n            className=\"App__input\"\n            value={animationDuration}\n            onChange={e => setAnimationDuration(+e.target.value)}\n          />\n        </label>\n\n        <label>\n          Infinite\n          <input\n            type=\"checkbox\"\n            className=\"App__input\"\n            onChange={() => setIsInfinite(!isInfinite)}\n          />\n        </label>\n      </div>\n\n      <Carousel\n        images={images}\n        step={step}\n        width={width}\n        duration={animationDuration}\n        frameSize={frameSize}\n        isInfinite={isInfinite}\n        indexCurrImg={indexCurrImg}\n        setIndexCurrImg={setIndexCurrImg}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}